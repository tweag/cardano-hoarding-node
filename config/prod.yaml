server:
  host: 0.0.0.0
  port: 3000

# Path to secrets file (can be relative or absolute)
# In production with sops-nix, this could be: /run/secrets/hoard
secrets_file: secrets/prod.yaml

# Path to node sockets
node_sockets:
  tag: Local
  contents:
    node_to_client_socket: preprod.socket
    tracer_socket: preprod_tracer.socket

# Path to Cardano protocol config file
# TODO: Update to mainnet config in phase 2
protocol_config_path: config/preprod/config.json

database:
  host: prod-db.example.com
  port: 5432
  database_name: hoard_prod
  pool:
    size: 50
    acquisition_timeout_seconds: 10
    aging_timeout_seconds: 3600
    idleness_timeout_seconds: 1200

logging:
  minimum_severity: INFO

# Maximum number of file descriptors
# Increase this to support many concurrent peer connections
max_file_descriptors: 16384

# Cooldown period after a peer failure before retrying (in seconds)
peer_failure_cooldown_seconds: 300

# Cardano protocols configuration
cardano_protocols:
  peer_sharing:
    request_interval_microseconds: 3600000000  # 1 hour
    request_amount: 100
    maximum_ingress_queue: 1000
  keep_alive:
    interval_microseconds: 10000000  # 10 seconds
    maximum_ingress_queue: 1000
  block_fetch:
    batch_size: 10
    batch_timeout_microseconds: 1000000  # 1 second
    maximum_ingress_queue: 393216  # 384 KiB
  chain_sync:
    maximum_ingress_queue: 1200
  tx_submission:
    maximum_ingress_queue: 10

# Monitoring configuration
monitoring:
  polling_interval_seconds: 10

# Cardano node integration configuration
cardano_node_integration:
  ssh_server_alive_interval_seconds: 60
  immutable_tip_refresh_seconds: 20
